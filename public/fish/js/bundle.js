var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function __(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(__.prototype=i.prototype,new __)}}();!function(){return function r(t,e,i){function o(s,n){if(!e[s]){if(!t[s]){var l="function"==typeof require&&require;if(!n&&l)return l(s,!0);if(a)return a(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var u=e[s]={exports:{}};t[s][0].call(u.exports,function(e){return o(t[s][1][e]||e)},u,u.exports,r,t,e,i)}return e[s].exports}for(var a="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}}()({1:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=t("./view/LoadingView"),s=t("./view/GameView"),n=Laya.Loader,o=t("./data/AnalysisXML"),l=function(){function Game(){this.res=[{url:"res/atlas/img.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/img.png",type:Laya.Loader.IMAGE},{url:"res/atlas/load.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/load.png",type:Laya.Loader.IMAGE},{url:"load/lading_bg1.png",type:Laya.Loader.IMAGE}],Laya.init(1280,720,Laya.WebGL),Laya.stage.scaleMode="showall",Laya.stage.alignH="center",Laya.stage.screenMode="horizontal",Laya.loader.load(this.res,Laya.Handler.create(this,this.onLoaded))}return Game.getInstance=function(){return null==this.instance&&(this.instance=new Game),this.instance},Game.prototype.onLoaded=function(){this.Ld=new a.LoadingView,Laya.stage.addChild(this.Ld),this.Ld.once("startgame",this,this.startGame),Laya.SoundManager.playMusic("./res/sound/HallScene.mp3"),this.loadOtherAsset()},Game.prototype.loadOtherAsset=function(){var t=[{url:"res/atlas/fish/bullet/bullet1.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/fish/bullet/bullet2.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/fish/bullet/bullet3.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/fish/bullet/bullet4.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/fish/bullet/bullet5.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/fish/bullet/bullet6.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/fish/bullet/bullet7.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/fish/bullet/bullet8.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/fish/bullet/bullet9.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/fish/fishimg/fish1/live.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/fish/fishimg/fish1/dead.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/fish/fishimg/fish2/live.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/fish/fishimg/fish2/dead.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/fish/fishimg/fish3/live.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/fish/fishimg/fish3/dead.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/fish/fishimg/fish4/live.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/fish/fishimg/fish4/dead.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/fish/fishimg/fish5/live.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/fish/fishimg/fish5/dead.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/fish/fishimg/fish6/live.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/fish/fishimg/fish6/dead.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/fish/fishimg/fish7/live.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/fish/fishimg/fish7/dead.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/fish/fishimg/fish8/live.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/fish/fishimg/fish8/dead.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/fish/fishimg/fish9/live.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/fish/fishimg/fish9/dead.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/fish/fishimg/fish10/live.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/fish/fishimg/fish10/dead.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/fish/fishimg/fish11/live.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/fish/fishimg/fish11/dead.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/fish/fishimg/fish12/live.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/fish/fishimg/fish12/dead.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/fish/tip.atlas",type:n.ATLAS},{url:"res/atlas/fish/cannon/cannon1.atlas",type:n.ATLAS},{url:"res/atlas/fish/cannon/cannon2.atlas",type:n.ATLAS},{url:"res/atlas/fish/cannon/cannon3.atlas",type:n.ATLAS},{url:"res/atlas/fish/cannon/cannon4.atlas",type:n.ATLAS},{url:"res/atlas/fish/cannon/cannon5.atlas",type:n.ATLAS},{url:"res/atlas/fish/cannon/cannon6.atlas",type:n.ATLAS},{url:"res/atlas/fish/cannon/cannon7.atlas",type:n.ATLAS},{url:"res/atlas/fish/img.atlas",type:n.ATLAS},{url:"res/atlas/fish/seaweed/seaweed1.atlas",type:n.ATLAS},{url:"res/atlas/fish/seaweed/seaweed2.atlas",type:n.ATLAS},{url:"res/atlas/fish/seaweed/seaweed3.atlas",type:n.ATLAS},{url:"res/atlas/fish/seaweed/seaweed4.atlas",type:n.ATLAS},{url:"res/atlas/fish/money/coin.atlas",type:n.ATLAS},{url:"res/atlas/fish/money/silver.atlas",type:n.ATLAS},{url:"res/atlas/fish/tools/boom.atlas",type:n.ATLAS},{url:"res/atlas/fish/tools.atlas",type:n.ATLAS},{url:"res/atlas/fish/effect/flash.atlas",type:n.ATLAS},{url:"res/xml/fish.xml",type:n.XML},{url:"res/xml/bullet.xml",type:n.XML}];Laya.loader.load(t,Laya.Handler.create(this,this.loadComs),Laya.Handler.create(this,this.loadProgress,null,!1))},Game.prototype.loadComs=function(){o.AnalysisXML.getInstance().analysisFishData(),o.AnalysisXML.getInstance().analysisBulletData()},Game.prototype.loadProgress=function(t){this.Ld&&this.Ld.setData(t)},Game.prototype.startGame=function(){Laya.stage.removeChildren();var t=new s.GameView;Laya.stage.addChild(t),Laya.SoundManager.playMusic("./res/sound/FishMatrix.mp3")},Game}();i.Game=l;new l},{"./data/AnalysisXML":3,"./view/GameView":21,"./view/LoadingView":22}],2:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function Global(){this.totalWidth=1280,this.totalHeight=700,this.bottomSpace=50,this.bulletMoveSpeed=15,this.ISPAUSE=!1,this.ISOVER=!1,this.bulletOneValue=40,this.bulletOtherValue=160,this.totalFishNum=30,this.totalSocre=1e3,this._lvlnum=1,this.lvlAddValue=0,this.getPowerNum=0,this.shootInterTime=1,this.shootPower=1}return Global.getInstance=function(){return null==this.instance&&(this.instance=new Global),this.instance},Object.defineProperty(Global.prototype,"lvlnum",{get:function(){return this._lvlnum},set:function(t){this._lvlnum=t,this._lvlnum=Math.min(this._lvlnum,40),this.lvlAddValue=1+.05*this._lvlnum},enumerable:!0,configurable:!0}),Global}();i.Global=a},{}],3:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=t("./FishVo"),s=t("./DataProxy"),n=t("./BulletVo"),o=function(){function AnalysisXML(){}return AnalysisXML.getInstance=function(){return null==this.instance&&(this.instance=new AnalysisXML),this.instance},AnalysisXML.prototype.analysisFishData=function(){for(var t=[{name:"小丑鱼",id:0,liveUrl:"fish\fishimg\fish12live.atlas",deadUrl:"fish\fishimg\fish12dead.atlas",grade:1,blood_min:2,blood_Max:2,score:5,speed:4,hitValue:1},{name:"蜻蜓鱼",id:1,liveUrl:"fish\fishimg\fish8live.atlas",deadUrl:"fish\fishimg\fish8dead.atlas",grade:1,blood_min:4,blood_Max:4,score:9,speed:4,hitValue:1},{name:"黄鱼",id:2,liveUrl:"fish\fishimg\fish5live.atlas",deadUrl:"fish\fishimg\fish5dead.atlas",grade:1,blood_min:5,blood_Max:10,score:8,speed:5,hitValue:1},{name:"热带鱼",id:3,liveUrl:"fish\fishimg\fish9live.atlas",deadUrl:"fish\fishimg\fish9dead.atlas",grade:1,blood_min:4,blood_Max:12,score:20,speed:5,hitValue:1},{name:"金枪鱼",id:4,liveUrl:"fish\fishimg\fish7live.atlas",deadUrl:"fish\fishimg\fish7dead.atlas",grade:1,blood_min:20,blood_Max:40,score:30,speed:3,hitValue:10},{name:"水母",id:5,liveUrl:"fish\fishimg\fish10live.atlas",deadUrl:"fish\fishimg\fish10dead.atlas",grade:2,blood_min:20,blood_Max:30,score:30,speed:2,hitValue:10},{name:"鳄鱼",id:6,liveUrl:"fish\fishimg\fish2live.atlas",deadUrl:"fish\fishimg\fish2dead.atlas",grade:3,blood_min:200,blood_Max:300,score:50,speed:8,hitValue:20},{name:"大乌龟",id:7,liveUrl:"fish\fishimg\fish11live.atlas",deadUrl:"fish\fishimg\fish11dead.atlas",grade:3,blood_min:300,blood_Max:400,score:60,speed:1.5,hitValue:20},{name:"海豚",id:8,liveUrl:"fish\fishimg\fish4live.atlas",deadUrl:"fish\fishimg\fish4dead.atlas",grade:5,blood_min:450,blood_Max:600,score:250,speed:1,hitValue:20},{name:"鲸鱼",id:9,liveUrl:"fish\fishimg\fish6live.atlas",deadUrl:"fish\fishimg\fish6dead.atlas",grade:4,blood_min:400,blood_Max:500,score:200,speed:.5,hitValue:50},{name:"海胆鱼",id:10,liveUrl:"fish\fishimg\fish3live.atlas",deadUrl:"fish\fishimg\fish3dead.atlas",grade:4,blood_min:90,blood_Max:230,score:45,speed:1,hitValue:5},{name:"灯笼鱼",id:11,liveUrl:"fish\fishimg\fish1live.atlas",deadUrl:"fish\fishimg\fish1dead.atlas",grade:4,blood_min:100,blood_Max:200,score:40,speed:1,hitValue:5}],e=0;e<t.length;e++){var i=t[e],n=new a.FishVo;n.name=i.name,n.id=i.id,n.liveUrl=i.liveUrl,n.deadUrl=i.deadUrl,n.grade=i.grade,n.blood_min=i.blood_min,n.blood_Max=i.blood_Max,n.score=i.score,n.speed=i.speed,n.hitValue=i.hitValue,s.DataProxy.getInstance().fishDataDic.set(n.id,n)}},AnalysisXML.prototype.analysisBulletData=function(){for(var t=[{type:1,powerRadius:10,boomRadius:20,speed:15,power:1},{type:2,powerRadius:10,boomRadius:75,speed:15,power:2},{type:3,powerRadius:10,boomRadius:75,speed:15,power:3},{type:4,powerRadius:10,boomRadius:75,speed:15,power:4},{type:5,powerRadius:10,boomRadius:75,speed:15,power:5},{type:6,powerRadius:10,boomRadius:75,speed:15,power:6},{type:7,powerRadius:10,boomRadius:75,speed:15,power:7}],e=0;e<t.length;e++){var i=t[e],a=new n.BulletVo;a.type=i.type,a.powerRadius=i.powerRadius,a.boomRadius=i.boomRadius,a.speed=i.speed,a.power=i.power,s.DataProxy.getInstance().bulletDataDic.set(a.type,a)}},AnalysisXML}();i.AnalysisXML=o},{"./BulletVo":4,"./DataProxy":5,"./FishVo":7}],4:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=function(){return function(){}}();i.BulletVo=a},{}],5:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=t("./Dictionary"),s=function(){function DataProxy(){this.fishDataDic=new a.Dictionary,this.bulletDataDic=new a.Dictionary}return DataProxy.getInstance=function(){return this.instance||(this.instance=new DataProxy),this.instance},DataProxy.prototype.getDataById=function(t){return this.fishDataDic.get(t)},DataProxy.prototype.getDataByType=function(t){return this.bulletDataDic.get(t)},DataProxy.instance=null,DataProxy}();i.DataProxy=s},{"./Dictionary":6}],6:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function Dictionary(){this._values=[],this._keys=[]}return Object.defineProperty(Dictionary.prototype,"values",{get:function(){return this._values},enumerable:!0,configurable:!0}),Object.defineProperty(Dictionary.prototype,"keys",{get:function(){return this._keys},enumerable:!0,configurable:!0}),Dictionary.prototype.set=function(t,e){var i=this.indexOf(t);i>=0?this._values[i]=e:(this._keys.push(t),this._values.push(e))},Dictionary.prototype.indexOf=function(t){var e=this._keys.indexOf(t);return e>=0?e:this._keys.indexOf(t)},Dictionary.prototype.get=function(t){var e=this.indexOf(t);return e<0?null:this._values[e]},Dictionary.prototype.remove=function(t){var e=this.indexOf(t);return e>=0&&(this._keys.splice(e,1),this._values.splice(e,1),!0)},Dictionary.prototype.clear=function(){this._values.length=0,this._keys.length=0},Dictionary}();i.Dictionary=a},{}],7:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=function(){return function(){this.id=0,this.name="",this.grade=0,this.score=0,this.speed=0,this.blood_min=0,this.blood_Max=0,this.liveUrl="",this.deadUrl="",this.hitValue=0,this.fishInfo="",this.leveAn="",this.deadAn=""}}();i.FishVo=a},{}],8:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=laya.display.Animation,s=laya.maths.Point,n=t("../../Global"),o=function(t){function BulletFather(){var e=t.call(this)||this;return e.BOOM_COM="boom_com",e._type=0,e.deaded=!1,e.sign="",e.flyAn="",e.boomAn="",e.selfWidth=0,e.selfHeight=0,e.hitPoint=new s,e.isHitFish=!1,e.isHitTool=!1,e.tempAngle=0,e.initData(),e.initView(),e.initEvent(),e}return __extends(BulletFather,t),BulletFather.getInstance=function(){return null==this.instance&&(this.instance=new BulletFather),this.instance},BulletFather.prototype.initData=function(){},BulletFather.prototype.initView=function(){this.animationBody||(this.animationBody=new a,this.addChild(this.animationBody))},BulletFather.prototype.initEvent=function(){},Object.defineProperty(BulletFather.prototype,"type",{get:function(){return this._type},set:function(t){this._type=t,this.animationBody.play(0,!1,this.flyAn),this.animationBody.x=-this.animationBody.getBounds().width/2,this.animationBody.y=100-this.animationBody.getBounds().height,this.selfWidth=this.animationBody.getBounds().width,this.selfHeight=this.animationBody.getBounds().height,this.hitRadius=this.dataVo.powerRadius,this.setHitPoint()},enumerable:!0,configurable:!0}),BulletFather.prototype.setHitPoint=function(){1==this.type?this.hitPoint.setTo(0,this.animationBody.y+n.Global.getInstance().bulletOneValue/2):this.hitPoint.setTo(0,this.animationBody.y+n.Global.getInstance().bulletOtherValue/2+30)},BulletFather.prototype.init=function(){this.deaded=!1,this.isHitFish=!1,this.isHitTool=!1,this.hitRadius=this.dataVo.powerRadius,Laya.timer.frameLoop(1,this,this.loopHand)},BulletFather.prototype.loopHand=function(){n.Global.getInstance().ISPAUSE||(this.tempAngle=this.rotation-90,this.x+=Math.cos(this.tempAngle*Math.PI/180)*this.dataVo.speed,this.y+=Math.sin(this.tempAngle*Math.PI/180)*this.dataVo.speed,this.setHitPoint(),(this.hitBorder()||this.isHitFish||this.isHitTool)&&(this.boom(),Laya.timer.clear(this,this.loopHand)))},BulletFather.prototype.boom=function(){laya.media.SoundManager.playSound("res/sound/bullet_boom.mp3"),this.animationBody.play(0,!1,this.boomAn),this.animationBody.once(Laya.Event.COMPLETE,this,this.boomCom)},BulletFather.prototype.boomCom=function(){this.hitRadius=this.dataVo.boomRadius,this.event(this.BOOM_COM,[this])},BulletFather.prototype.hitBorder=function(){var t=this.localToGlobal(this.hitPoint,!0);return t.x<10||t.x>n.Global.getInstance().totalWidth-10||t.y<10||t.y>n.Global.getInstance().totalHeight-10},BulletFather.prototype.getHitRectangle=function(){var t=this.localToGlobal(new s(this.hitPoint.x-this.hitRadius,this.hitPoint.y-this.hitRadius),!0),e=this.globalToLocal(t,!0);return new Laya.Rectangle(e.x,e.y,2*this.hitRadius,2*this.hitRadius)},BulletFather.prototype.getCenter=function(){return this.localToGlobal(this.hitPoint,!0)},BulletFather}(Laya.Sprite);i.BulletFather=o},{"../../Global":2}],9:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=laya.display.Animation,s=laya.media.SoundManager,n=laya.utils.Pool,o=t("./BulletFather"),l=t("../../data/DataProxy"),h=function(){function BulletManager(){this.BULLET_BOOM_1="bullet_boom_1",this.BULLET_BOOM_2="bullet_boom_2",this.BULLET_BOOM_3="bullet_boom_3",this.BULLET_BOOM_4="bullet_boom_4",this.BULLET_BOOM_5="bullet_boom_5",this.BULLET_BOOM_6="bullet_boom_6",this.BULLET_BOOM_7="bullet_boom_7",this.BULLET_BOOM_8="bullet_boom_8",this.BULLET_BOOM_9="bullet_boom_9",this.BULLET_FLY_1="bullet_fly_1",this.BULLET_FLY_2="bullet_fly_2",this.BULLET_FLY_3="bullet_fly_3",this.BULLET_FLY_4="bullet_fly_4",this.BULLET_FLY_5="bullet_fly_5",this.BULLET_FLY_6="bullet_fly_6",this.BULLET_FLY_7="bullet_fly_7",this.BULLET_FLY_8="bullet_fly_8",this.BULLET_FLY_9="bullet_fly_9",this.BULLET_INFO_1="bullet_info_1",this.BULLET_INFO_2="bullet_info_2",this.BULLET_INFO_3="bullet_info_3",this.BULLET_INFO_4="bullet_info_4",this.BULLET_INFO_5="bullet_info_5",this.BULLET_INFO_6="bullet_info_6",this.BULLET_INFO_7="bullet_info_7",this.BULLET_INFO_8="bullet_info_8",this.BULLET_INFO_9="bullet_info_9"}return BulletManager.getInstance=function(){return null==this.instance&&(this.instance=new BulletManager),this.instance},BulletManager.prototype.cacheAnimation=function(){a.createFrames(["fish/bullet/bullet1/bullet0001.png"],this.BULLET_FLY_1),a.createFrames(["fish/bullet/bullet1/bullet0001.png","fish/bullet/bullet1/bullet0002.png","fish/bullet/bullet1/bullet0003.png","fish/bullet/bullet1/bullet0004.png","fish/bullet/bullet1/bullet0005.png","fish/bullet/bullet1/bullet0006.png","fish/bullet/bullet1/bullet0007.png","fish/bullet/bullet1/bullet0008.png","fish/bullet/bullet1/bullet0009.png"],this.BULLET_BOOM_1),a.createFrames(["fish/bullet/bullet2/bullet20001.png"],this.BULLET_FLY_2),a.createFrames(["fish/bullet/bullet2/bullet20001.png","fish/bullet/bullet2/bullet20002.png","fish/bullet/bullet2/bullet20003.png","fish/bullet/bullet2/bullet20004.png","fish/bullet/bullet2/bullet20005.png","fish/bullet/bullet2/bullet20006.png","fish/bullet/bullet2/bullet20007.png","fish/bullet/bullet2/bullet20008.png","fish/bullet/bullet2/bullet20009.png"],this.BULLET_BOOM_2),a.createFrames(["fish/bullet/bullet3/bullet30001.png"],this.BULLET_FLY_3),a.createFrames(["fish/bullet/bullet3/bullet30001.png","fish/bullet/bullet3/bullet30002.png","fish/bullet/bullet3/bullet30003.png","fish/bullet/bullet3/bullet30004.png","fish/bullet/bullet3/bullet30005.png","fish/bullet/bullet3/bullet30006.png","fish/bullet/bullet3/bullet30007.png","fish/bullet/bullet3/bullet30008.png","fish/bullet/bullet3/bullet30009.png"],this.BULLET_BOOM_3),a.createFrames(["fish/bullet/bullet4/bullet40001.png"],this.BULLET_FLY_4),a.createFrames(["fish/bullet/bullet4/bullet40001.png","fish/bullet/bullet4/bullet40002.png","fish/bullet/bullet4/bullet40003.png","fish/bullet/bullet4/bullet40004.png","fish/bullet/bullet4/bullet40005.png","fish/bullet/bullet4/bullet40006.png","fish/bullet/bullet4/bullet40007.png","fish/bullet/bullet4/bullet40008.png","fish/bullet/bullet4/bullet40009.png"],this.BULLET_BOOM_4),a.createFrames(["fish/bullet/bullet5/bullet50001.png"],this.BULLET_FLY_5),a.createFrames(["fish/bullet/bullet5/bullet50001.png","fish/bullet/bullet5/bullet50002.png","fish/bullet/bullet5/bullet50003.png","fish/bullet/bullet5/bullet50004.png","fish/bullet/bullet5/bullet50005.png","fish/bullet/bullet5/bullet50006.png","fish/bullet/bullet5/bullet50007.png","fish/bullet/bullet5/bullet50008.png","fish/bullet/bullet5/bullet50009.png"],this.BULLET_BOOM_5),a.createFrames(["fish/bullet/bullet6/bullet60001.png"],this.BULLET_FLY_6),a.createFrames(["fish/bullet/bullet6/bullet60001.png","fish/bullet/bullet6/bullet60002.png","fish/bullet/bullet6/bullet60003.png","fish/bullet/bullet6/bullet60004.png","fish/bullet/bullet6/bullet60005.png","fish/bullet/bullet6/bullet60006.png","fish/bullet/bullet6/bullet60007.png","fish/bullet/bullet6/bullet60008.png","fish/bullet/bullet6/bullet60009.png"],this.BULLET_BOOM_6),a.createFrames(["fish/bullet/bullet7/bullet70001.png"],this.BULLET_FLY_7),a.createFrames(["fish/bullet/bullet7/bullet70001.png","fish/bullet/bullet7/bullet70002.png","fish/bullet/bullet7/bullet70003.png","fish/bullet/bullet7/bullet70004.png","fish/bullet/bullet7/bullet70005.png","fish/bullet/bullet7/bullet70006.png","fish/bullet/bullet7/bullet70007.png","fish/bullet/bullet7/bullet70008.png","fish/bullet/bullet7/bullet70009.png"],this.BULLET_BOOM_7),a.createFrames(["fish/bullet/bullet8/bullet80001.png"],this.BULLET_FLY_8),a.createFrames(["fish/bullet/bullet8/bullet80001.png","fish/bullet/bullet8/bullet80002.png","fish/bullet/bullet8/bullet80003.png","fish/bullet/bullet8/bullet80004.png","fish/bullet/bullet8/bullet80005.png","fish/bullet/bullet8/bullet80006.png","fish/bullet/bullet8/bullet80007.png","fish/bullet/bullet8/bullet80008.png","fish/bullet/bullet8/bullet80009.png"],this.BULLET_BOOM_8),a.createFrames(["fish/bullet/bullet9/bullet90001.png"],this.BULLET_FLY_9),a.createFrames(["fish/bullet/bullet9/bullet90001.png","fish/bullet/bullet9/bullet90002.png","fish/bullet/bullet9/bullet90003.png","fish/bullet/bullet9/bullet90004.png","fish/bullet/bullet9/bullet90005.png","fish/bullet/bullet9/bullet90006.png","fish/bullet/bullet9/bullet90007.png","fish/bullet/bullet9/bullet90008.png","fish/bullet/bullet9/bullet90009.png"],this.BULLET_BOOM_9)},BulletManager.prototype.createBulletByType=function(t){var e;return 1==t?e=n.getItemByClass(this.BULLET_INFO_1,o.BulletFather):2==t?e=n.getItemByClass(this.BULLET_INFO_2,o.BulletFather):3==t?e=n.getItemByClass(this.BULLET_INFO_3,o.BulletFather):4==t?e=n.getItemByClass(this.BULLET_INFO_4,o.BulletFather):5==t?e=n.getItemByClass(this.BULLET_INFO_5,o.BulletFather):6==t?e=n.getItemByClass(this.BULLET_INFO_6,o.BulletFather):7==t?e=n.getItemByClass(this.BULLET_INFO_7,o.BulletFather):8==t?e=n.getItemByClass(this.BULLET_INFO_8,o.BulletFather):9==t&&(e=n.getItemByClass(this.BULLET_INFO_9,o.BulletFather)),e.sign="bullet_info_"+t,e.flyAn="bullet_fly_"+t,e.boomAn="bullet_boom_"+t,e.dataVo=l.DataProxy.getInstance().getDataByType(t),e.type=t,s.playSound("res/sound/bullet_normal1.mp3"),e},BulletManager.prototype.recoverBullerByType=function(t){n.recover(t.sign,t)},BulletManager}();i.BulletManager=h},{"../../data/DataProxy":5,"./BulletFather":8}],10:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=laya.utils.Tween,s=t("../../Global"),n=t("./CannonManager"),o=function(t){function CannonFather(){var e=t.call(this)||this;return e.MIN_TYPE=1,e.MAX_TYPE=7,e.shootTime=0,e.shootInterval=250,e.selfWidth=0,e.selfHeight=0,e.xiuVal=25,e.strongIng=!1,e._strongTime=0,e._type=0,e.strongScale=1,e.CannonFather(),e}return __extends(CannonFather,t),CannonFather.getInstance=function(){return null==this.instance&&(this.instance=new CannonFather),this.instance},Object.defineProperty(CannonFather.prototype,"type",{get:function(){return this._type},set:function(t){this._type=t,this.animationBody.play(0,!1,"cannon_normal_"+this._type),this.animationBody.pos(-35,-90),this.selfWidth=this.animationBody.getBounds().width,this.selfHeight=this.animationBody.getBounds().height},enumerable:!0,configurable:!0}),Object.defineProperty(CannonFather.prototype,"strongTime",{get:function(){return this._strongTime},set:function(t){this._strongTime=t,this._strongTime=Math.max(0,this._strongTime),0==this._strongTime?(this.strongIng=!1,this.time.clear(this,this.loop),this.showflash(!1),s.Global.getInstance().shootInterTime=1,s.Global.getInstance().shootPower):this.strongIng||(this.time.clear(this,this.loop),this.time.loop(1e3,this,this.loop),this.strongIng=!0,this.showflash(!0),s.Global.getInstance().shootInterTime=.5,s.Global.getInstance().shootPower=2)},enumerable:!0,configurable:!0}),CannonFather.prototype.CannonFather=function(){this.initData(),this.initView(),this.initEvent()},CannonFather.prototype.initData=function(){this.time=new Laya.Timer},CannonFather.prototype.loop=function(){this.strongTime--},CannonFather.prototype.initView=function(){this.animationBody||(this.animationBody=new laya.display.Animation,this.addChild(this.animationBody)),this.effectBody||(this.effectBody=new laya.display.Animation,this.addChild(this.effectBody))},CannonFather.prototype.initEvent=function(){},CannonFather.prototype.shootAn=function(){this.animationBody.play(0,!1,"cannon_shoot_"+this.type)},CannonFather.prototype.rotateAn=function(t){this.rotation=t},CannonFather.prototype.showflash=function(t){t?(this.strongScale=1.3,this.effectBody.play(0,!0,n.CannonManager.getInstance().EFFECT_FLASH),this.effectBody.pos(-this.effectBody.getBounds().width/2-10,-this.effectBody.getBounds().height/2-20),a.to(this,{scaleX:this.strongScale,scaleY:this.strongScale},200,laya.utils.Ease.backOut)):(this.strongScale=1,this.effectBody.clear(),a.to(this,{scaleX:this.strongScale,scaleY:this.strongScale},200,laya.utils.Ease.backIn))},CannonFather}(Laya.Sprite);i.CannonFather=o},{"../../Global":2,"./CannonManager":11}],11:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=t("./CannonFather"),s=function(){function CannonManager(){this.CANNON_NORMAL_1="cannon_normal_1",this.CANNON_NORMAL_2="cannon_normal_2",this.CANNON_NORMAL_3="cannon_normal_3",this.CANNON_NORMAL_4="cannon_normal_4",this.CANNON_NORMAL_5="cannon_normal_5",this.CANNON_NORMAL_6="cannon_normal_6",this.CANNON_NORMAL_7="cannon_normal_7",this.CANNON_SHOOT_1="cannon_shoot_1",this.CANNON_SHOOT_2="cannon_shoot_2",this.CANNON_SHOOT_3="cannon_shoot_3",this.CANNON_SHOOT_4="cannon_shoot_4",this.CANNON_SHOOT_5="cannon_shoot_5",this.CANNON_SHOOT_6="cannon_shoot_6",this.CANNON_SHOOT_7="cannon_shoot_7",this.EFFECT_FLASH="effect_flash"}return CannonManager.getInstance=function(){return null==this.instance&&(this.instance=new CannonManager),this.instance},CannonManager.prototype.cacheAnimation=function(){laya.display.Animation.createFrames(["../laya/assets/cannon/cannon1/cannon10001.png"],this.CANNON_NORMAL_1),laya.display.Animation.createFrames("res/atlas/fish/cannon/cannon1.atlas",this.CANNON_SHOOT_1),laya.display.Animation.createFrames(["../laya/assets/cannon/cannon2/cannon20001.png"],this.CANNON_NORMAL_2),laya.display.Animation.createFrames("res/atlas/fish/cannon/cannon2.atlas",this.CANNON_SHOOT_2),laya.display.Animation.createFrames(["../laya/assets/cannon/cannon3/cannon30001.png"],this.CANNON_NORMAL_3),laya.display.Animation.createFrames("res/atlas/fish/cannon/cannon3.atlas",this.CANNON_SHOOT_3),laya.display.Animation.createFrames(["../laya/assets/cannon/cannon4/cannon40001.png"],this.CANNON_NORMAL_4),laya.display.Animation.createFrames("res/atlas/fish/cannon/cannon4.atlas",this.CANNON_SHOOT_4),laya.display.Animation.createFrames(["../laya/assets/cannon/cannon5/cannon50001.png"],this.CANNON_NORMAL_5),laya.display.Animation.createFrames("res/atlas/fish/cannon/cannon5.atlas",this.CANNON_SHOOT_5),laya.display.Animation.createFrames(["../laya/assets/cannon/cannon6/cannon60001.png"],this.CANNON_NORMAL_6),laya.display.Animation.createFrames("res/atlas/fish/cannon/cannon6.atlas",this.CANNON_SHOOT_6),laya.display.Animation.createFrames(["../laya/assets/cannon/cannon7/cannon70001.png"],this.CANNON_NORMAL_7),laya.display.Animation.createFrames("res/atlas/fish/cannon/cannon7.atlas",this.CANNON_SHOOT_7),laya.display.Animation.createFrames("res/atlas/fish/effect/flash.atlas",this.EFFECT_FLASH)},CannonManager.prototype.createCannon=function(t,e,i){return this.cannon||(this.cannon=new a.CannonFather,t.addChild(this.cannon),this.cannon.pos(e,i)),this.cannon},CannonManager}();i.CannonManager=s},{"./CannonFather":10}],12:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=laya.utils.Tween,s=laya.utils.Ease,n=function(t){function Coin(){var e=t.call(this)||this;return e.MOVE_END="move_end",e._type="",e.initView(),e}return __extends(Coin,t),Coin.getInstance=function(){return this.instance||(this.instance=new Coin),this.instance},Object.defineProperty(Coin.prototype,"type",{get:function(){return this._type},set:function(t){this._type=t,this.animationBody.play(0,!0,this._type),this.animationBody.pos(-this.animationBody.getBounds().width/2,-this.animationBody.getBounds().height/2),this.size(this.animationBody.getBounds().width,this.animationBody.getBounds().height)},enumerable:!0,configurable:!0}),Coin.prototype.initView=function(){this.animationBody||(this.animationBody=new laya.display.Animation,this.addChild(this.animationBody))},Coin.prototype.moveToPos=function(t,e,i){Laya.timer.once(i,this,function(){a.to(this,{x:t,y:e},200,s.linearIn,new Laya.Handler(this,function(){this.event(this.MOVE_END,[this])}))})},Coin}(Laya.Sprite);i.Coin=n},{}],13:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=laya.display.Animation,s=laya.utils.Pool,n=laya.media.SoundManager,o=t("./Coin"),l=t("../../Global"),h=function(){function CoinManager(){this.COIN="coin",this.SILVER="silver"}return CoinManager.getInstance=function(){return this.instance},CoinManager.prototype.cacheAnimation=function(){a.createFrames("res/atlas/fish/money/coin.atlas",this.COIN),a.createFrames("res/atlas/fish/money/silver.atlas",this.SILVER)},CoinManager.prototype.createCoin=function(t){var e=s.getItemByClass(t,o.Coin);return e.type=t,e},CoinManager.prototype.createMoreCoin=function(t,e){var i,a=t.isInOrder?2*t.fishVo.score:t.fishVo.score,s=0;a>=10?(i=this.COIN,s=Math.floor(a/10)):(i=this.SILVER,s=a),this.addCoin(s,i,t.x,t.y,e)},CoinManager.prototype.addCoin=function(t,e,i,a,s){var h,r=0,u=0,d=200;t>5?n.playSound("res/sound/coin_more.mp3"):n.playSound("res/sound/coin2.mp3");for(var p=0;p<t;p++)(h=this.createCoin(e)).once(o.Coin.getInstance().MOVE_END,this,this.moveEnd),h.pos(i+h.width*u,a+r*h.height),s.addChild(h),++u%6==0&&(r++,u=0),d+=20,h.moveToPos(100,l.Global.getInstance().totalHeight+50,d)},CoinManager.prototype.moveEnd=function(t){t.removeSelf(),this.recoverCoin(t)},CoinManager.prototype.recoverCoin=function(t){s.recover(t.type,t)},CoinManager.instance=new CoinManager,CoinManager}();i.CoinManager=h},{"../../Global":2,"./Coin":12}],14:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=laya.display.Animation,s=t("../../Global"),n=function(t){function FishFather(){var e=t.call(this)||this;return e.FISH_DEAD="fish_dead",e.FISH_DEAD_SELF="fish_dead_self",e.dirStr="",e.selfWidth=0,e.selfHeight=0,e.dead=!1,e.isInOrder=!1,e.initData(),e.initView(),e.initEvent(),e}return __extends(FishFather,t),FishFather.getInstance=function(){return null==this.instance&&(this.instance=new FishFather),this.instance},Object.defineProperty(FishFather.prototype,"fishVo",{get:function(){return this._fishVo},set:function(t){this._fishVo=t},enumerable:!0,configurable:!0}),Object.defineProperty(FishFather.prototype,"id",{get:function(){return this._id},set:function(t){this._id=t,this.animationBody.play(0,!0,this.fishVo.leveAn),this.selfWidth=this.animationBody.getBounds().width,this.selfHeight=this.animationBody.getBounds().height,this.animationBody.pivot(this.selfWidth/2,this.selfHeight/2),this.animationBody.pos(0,0);var e=Math.floor(this.fishVo.blood_min+Math.random()*(this.fishVo.blood_Max-this.fishVo.blood_min));this.hp=e},enumerable:!0,configurable:!0}),Object.defineProperty(FishFather.prototype,"hp",{get:function(){return this._hp},set:function(t){this._hp=t,this._hp<=0&&this.fishDead()},enumerable:!0,configurable:!0}),FishFather.prototype.initData=function(){},FishFather.prototype.initView=function(){this.animationBody||(this.animationBody=new a,this.animationBody.interval=100,this.addChild(this.animationBody))},FishFather.prototype.initEvent=function(){},FishFather.prototype.init=function(t,e,i){void 0===t&&(t="right"),void 0===e&&(e=null),void 0===i&&(i=!1),this.dead=!1,this.isInOrder=i,this.dirStr=t,this.animationBody.rotation="right"==t?0:180,e?(1e3,this.pos(e.x,e.y)):(1e3*Math.random(),this.resetPos()),Laya.timer.frameLoop(1,this,this.loopHand)},FishFather.prototype.loopHand=function(){s.Global.getInstance().ISPAUSE||this.moveOver()},FishFather.prototype.moveOver=function(){"right"==this.dirStr?(this.x+=this.fishVo.speed*s.Global.getInstance().lvlAddValue,this.x>=s.Global.getInstance().totalWidth+this.selfWidth&&(this.isInOrder?this.selfDed():this.resetPos())):"left"==this.dirStr&&(this.x-=this.fishVo.speed*s.Global.getInstance().lvlAddValue,this.x<=2*-this.selfWidth&&(this.isInOrder?this.selfDed():this.resetPos()))},FishFather.prototype.resetPos=function(){var t,e=50+(s.Global.getInstance().totalHeight-150)*Math.random();"right"==this.dirStr?t=-this.selfWidth-200*Math.random():"left"==this.dirStr&&(t=s.Global.getInstance().totalWidth+this.selfWidth+200*Math.random()),this.pos(t,e)},FishFather.prototype.fishDead=function(){this.dead=!0,this.animationBody.play(0,!1,this.fishVo.deadAn),this.animationBody.once(Laya.Event.COMPLETE,this,this.deadCom),Laya.timer.clear(this,this.loopHand)},FishFather.prototype.deadCom=function(){this.removeSelf(),this.event(this.FISH_DEAD,[this]),laya.utils.Pool.recover(this.fishVo.fishInfo,this)},FishFather.prototype.selfDed=function(){this.removeSelf(),this.event(this.FISH_DEAD_SELF,[this]),laya.utils.Pool.recover(this.fishVo.fishInfo,this),Laya.timer.clear(this,this.loopHand)},FishFather.prototype.getHitRectangle=function(){var t=this.localToGlobal(new laya.maths.Point(-this.selfWidth/2,-this.selfHeight/2+this.fishVo.hitValue),!0);return new laya.maths.Rectangle(t.x,t.y,this.selfWidth,this.selfHeight-2*this.fishVo.hitValue)},FishFather}(Laya.Sprite);i.FishFather=n},{"../../Global":2}],15:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=laya.display.Animation,s=t("./FishFather"),n=t("../../data/DataProxy"),o=laya.maths.Point,l=function(){function FishManager(){this.FISH_NORMAL_1="fish_normal_1",this.FISH_NORMAL_2="fish_normal_2",this.FISH_NORMAL_3="fish_normal_3",this.FISH_NORMAL_4="fish_normal_4",this.FISH_NORMAL_5="fish_normal_5",this.FISH_NORMAL_6="fish_normal_6",this.FISH_NORMAL_7="fish_normal_7",this.FISH_NORMAL_8="fish_normal_8",this.FISH_NORMAL_9="fish_normal_9",this.FISH_NORMAL_10="fish_normal_10",this.FISH_NORMAL_11="fish_normal_11",this.FISH_NORMAL_12="fish_normal_12",this.FISH_DEAD_1="fish_dead_1",this.FISH_DEAD_2="fish_dead_2",this.FISH_DEAD_3="fish_dead_3",this.FISH_DEAD_4="fish_dead_4",this.FISH_DEAD_5="fish_dead_5",this.FISH_DEAD_6="fish_dead_6",this.FISH_DEAD_7="fish_dead_7",this.FISH_DEAD_8="fish_dead_8",this.FISH_DEAD_9="fish_dead_9",this.FISH_DEAD_10="fish_dead_10",this.FISH_DEAD_11="fish_dead_11",this.FISH_DEAD_12="fish_dead_12"}return FishManager.getInstance=function(){return null==this.instance&&(this.instance=new FishManager),this.instance},FishManager.prototype.cacheAnimation=function(){a.createFrames("res/atlas/fish/fishimg/fish12/live.atlas",this.FISH_NORMAL_1),a.createFrames("res/atlas/fish/fishimg/fish12/dead.atlas",this.FISH_DEAD_1),a.createFrames("res/atlas/fish/fishimg/fish8/live.atlas",this.FISH_NORMAL_2),a.createFrames("res/atlas/fish/fishimg/fish8/dead.atlas",this.FISH_DEAD_2),a.createFrames("res/atlas/fish/fishimg/fish5/live.atlas",this.FISH_NORMAL_3),a.createFrames("res/atlas/fish/fishimg/fish5/dead.atlas",this.FISH_DEAD_3),a.createFrames("res/atlas/fish/fishimg/fish9/live.atlas",this.FISH_NORMAL_4),a.createFrames("res/atlas/fish/fishimg/fish9/dead.atlas",this.FISH_DEAD_4),a.createFrames("res/atlas/fish/fishimg/fish7/live.atlas",this.FISH_NORMAL_5),a.createFrames("res/atlas/fish/fishimg/fish7/dead.atlas",this.FISH_DEAD_5),a.createFrames("res/atlas/fish/fishimg/fish10/live.atlas",this.FISH_NORMAL_6),a.createFrames("res/atlas/fish/fishimg/fish10/dead.atlas",this.FISH_DEAD_6),a.createFrames("res/atlas/fish/fishimg/fish2/live.atlas",this.FISH_NORMAL_7),a.createFrames("res/atlas/fish/fishimg/fish2/dead.atlas",this.FISH_DEAD_7),a.createFrames("res/atlas/fish/fishimg/fish11/live.atlas",this.FISH_NORMAL_8),a.createFrames("res/atlas/fish/fishimg/fish11/dead.atlas",this.FISH_DEAD_8),a.createFrames("res/atlas/fish/fishimg/fish4/live.atlas",this.FISH_NORMAL_9),a.createFrames("res/atlas/fish/fishimg/fish4/dead.atlas",this.FISH_DEAD_9),a.createFrames("res/atlas/fish/fishimg/fish6/live.atlas",this.FISH_NORMAL_10),a.createFrames("res/atlas/fish/fishimg/fish6/dead.atlas",this.FISH_DEAD_10),a.createFrames("res/atlas/fish/fishimg/fish3/live.atlas",this.FISH_NORMAL_11),a.createFrames("res/atlas/fish/fishimg/fish3/dead.atlas",this.FISH_DEAD_11),a.createFrames("res/atlas/fish/fishimg/fish1/live.atlas",this.FISH_NORMAL_12),a.createFrames("res/atlas/fish/fishimg/fish1/dead.atlas",this.FISH_DEAD_12)},FishManager.prototype.createFishById=function(t){var e,i=n.DataProxy.getInstance().getDataById(t);return e=laya.utils.Pool.getItemByClass("fish_info_"+(t+1),s.FishFather),i.fishInfo="fish_info_"+(t+1),i.leveAn="fish_normal_"+(t+1),i.deadAn="fish_dead_"+(t+1),e.fishVo=i,e.id=t,e},FishManager.prototype.recoverfish=function(t){laya.utils.Pool.recover(t.fishVo.fishInfo,t)},FishManager.prototype.heartPathDot=function(t,e){var i,a;void 0===t&&(t=150),void 0===e&&(e=10);for(var s,n,o=[],l=t,h=Math.PI/4,r=0;r<=360;r+=e)i=Math.PI*r/180,s=2*Math.cos(i)*Math.cos(h)-Math.sin(i)*Math.sin(h),n=2*Math.cos(i)*Math.sin(h)+Math.sin(i)*Math.cos(h),s>0&&(n=-n),a=new laya.maths.Point(0+s*l,0+n*l),o.push(a),s;return o},FishManager.prototype.rectPathDot=function(t,e,i){var a;void 0===t&&(t=4),void 0===e&&(e=8),void 0===i&&(i=80);for(var s=[],n=0,l=0,h=0;h<t;h++){for(var r=0;r<e;r++)a=new o(n,l),n+=i,s.push(a);n=0,l+=i}return s},FishManager.prototype.rhombPathDot=function(t,e,i){void 0===t&&(t=7),void 0===e&&(e=7),void 0===i&&(i=80);for(var a,s=Math.floor(e/2),n=[],l=0,h=1,r=0;r<t;r++){s<0&&(h=2,s=1);for(var u=s;u<s+(e-2*s);u++)a=new o(u*i,l),n.push(a);1==h?s--:2==h&&s++,l+=i}return n},FishManager.prototype.circlePathDot=function(t,e,i){void 0===t&&(t=3),void 0===e&&(e=80),void 0===i&&(i=30);for(var a,s=0,n=[],l=0,h=0,r=1;r<=t;r++){s=r*e;for(var u=0;u<360;u+=i)l=Math.cos(u*Math.PI/180)*s,h=Math.sin(u*Math.PI/180)*s,a=new o(l,h),n.push(a)}return n},FishManager}();i.FishManager=l},{"../../data/DataProxy":5,"./FishFather":14}],16:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=laya.display.Animation,s=laya.utils.Tween,n=laya.maths.Point,o=laya.maths.Rectangle,l=laya.utils.Ease,h=t("../../Global"),r=function(t){function Tools(){var e=t.call(this)||this;return e.DEAD_OVER="dead_over",e.DEADED="deaded",e.DEAD_SELF="dead_self",e.deadSelfTime=1e4,e.deaded=!1,e.xval=0,e.yval=0,e.wval=0,e.hval=0,e.Tools(),e}return __extends(Tools,t),Tools.getInstance=function(){return this.instance||(this.instance=new Tools),this.instance},Object.defineProperty(Tools.prototype,"type",{get:function(){return this._type},set:function(t){this._type=t,this.anBody.play(0,!0,this.normalAn),this.anBody.pos(-this.anBody.getBounds().width/2,-this.anBody.getBounds().height/2),this.selfWidth=this.anBody.getBounds().width,this.selfHeight=this.anBody.getBounds().height},enumerable:!0,configurable:!0}),Tools.prototype.Tools=function(){this.anBody=new a,this.addChild(this.anBody)},Tools.prototype.init=function(){this.deaded=!1,this.scale(0,0),s.to(this,{scaleX:2,scaleY:2},150,l.backOut,Laya.Handler.create(this,function(){s.to(this,{scaleX:1,scaleY:1},150,l.backIn)})),this.deadSelfH()},Tools.prototype.deadSelfH=function(){Laya.timer.once(this.deadSelfTime,this,this.dh)},Tools.prototype.dh=function(){this.deaded=!0,this.deadSelfS()},Tools.prototype.deadSelfS=function(){s.to(this,{scaleX:0,scaleY:0},200,l.backIn,Laya.Handler.create(this,function(){this.event(this.DEAD_SELF,[this])}))},Tools.prototype.disposeS=function(){h.Global.getInstance().ISPAUSE=!0,this.deaded=!0,this.anBody.play(0,!1,this.deadAn),Laya.timer.clear(this,this.dh),this.anBody.on(Laya.Event.COMPLETE,this,this.deadAnCom),this.event(this.DEADED,[this])},Tools.prototype.deadAnCom=function(){this.removeSelf(),this.event(this.DEAD_OVER,[this])},Tools.prototype.getHitRectangle=function(){var t=this.localToGlobal(new n(-this.selfWidth/2,-this.selfHeight/2),!0);return new o(t.x+this.xval,t.y+this.yval,this.selfWidth-this.wval,this.selfHeight-this.hval)},Tools}(Laya.Sprite);i.Tools=r},{"../../Global":2}],17:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=laya.display.Animation,s=laya.media.SoundManager,n=laya.utils.Pool,o=t("./Tools"),l=function(){function ToolsManager(){this.BOMB_NORMAL="bomb_normal",this.BOMB_BOOM="bomb_boom",this.BOX_NORMAL="box_normal",this.BOX_OPEN="box_open",this.POWER_NORMAL="power_normal",this.POWER_OPEN="power_open",this.FOOD_NORMAL="food_normal",this.FOOD_EAT="food_eat",this.TYPE_BOOM=1,this.TYPE_BOX=2,this.TYPE_POWER=3,this.TYPE_Food=4,this.toolArr=[]}return ToolsManager.getInstance=function(){return this.instance||(this.instance=new ToolsManager),this.instance},ToolsManager.prototype.cacheAnimation=function(){a.createFrames("res/atlas/fish/tools/boom.json",this.BOMB_BOOM),a.createFrames(["fish/tools/boom/boom0001.png"],this.BOMB_NORMAL),a.createFrames(["fish/tools/bx.png"],this.BOX_NORMAL),a.createFrames(["fish/tools/bx.png"],this.BOX_OPEN),a.createFrames(["fish/tools/power.png"],this.POWER_NORMAL),a.createFrames(["fish/tools/power.png"],this.POWER_OPEN),a.createFrames(["fish/tools/fishfood.png"],this.FOOD_NORMAL),a.createFrames(["fish/tools/fishfood.png"],this.FOOD_EAT)},ToolsManager.prototype.createToolByType=function(t){var e=n.getItemByClass(""+t,o.Tools);switch(t){case 1:e.normalAn=this.BOMB_NORMAL,e.deadAn=this.BOMB_BOOM,e.xval=40,e.yval=40,e.wval=90,e.hval=60;break;case 2:e.normalAn=this.BOX_NORMAL,e.deadAn=this.BOX_OPEN;break;case 3:e.normalAn=this.POWER_NORMAL,e.deadAn=this.POWER_OPEN;break;case 4:e.normalAn=this.FOOD_NORMAL,e.deadAn=this.FOOD_EAT}return e.type=t,e.once(o.Tools.getInstance().DEAD_OVER,this,this.deadAnOver),e.once(o.Tools.getInstance().DEADED,this,this.deadedOver),e.once(o.Tools.getInstance().DEAD_SELF,this,this.deadedSelfOver),e.init(),this.toolArr.push(e),s.playSound("res/sound/tool.mp3"),e},ToolsManager.prototype.deadAnOver=function(t){var e=this.toolArr.indexOf(t);this.toolArr.splice(e,1)},ToolsManager.prototype.deadedOver=function(t){},ToolsManager.prototype.deadedSelfOver=function(t){var e=this.toolArr.indexOf(t);this.toolArr.splice(e,1)},ToolsManager.prototype.recover=function(t){t.removeSelf(),n.recover(""+t.type,t)},ToolsManager}();i.ToolsManager=l},{"./Tools":16}],18:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=Laya.View,s=Laya.ClassUtils.regClass;!function(t){var e=function(t){function GameViewUI(){return t.call(this)||this}return __extends(GameViewUI,t),GameViewUI.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.createView(GameViewUI.uiView)},GameViewUI.uiView={type:"View",props:{width:1280,height:700},compId:2,child:[{type:"Sprite",props:{y:-10,x:-2,texture:"img/BG01.png",name:"bg"},compId:3},{type:"Box",props:{y:534,x:0,width:410,name:"player1",height:176},compId:4,child:[{type:"Image",props:{y:97,x:0,width:201,skin:"img/Image_doudizhu_touxiangdikuang.png",height:79},compId:5,child:[{type:"Image",props:{y:5,x:0,width:73,skin:"img/Image_doudizhu_touxiangkuang.png",height:74},compId:6,child:[{type:"Image",props:{y:3,x:4,width:65,skin:"img/icon_default.png",height:62},compId:7}]}]},{type:"Image",props:{y:108.5,x:80,width:108,skin:"img/Image_doudizhu_paixing.png",height:28},compId:8},{type:"Image",props:{y:140,x:80,width:108,skin:"img/Image_doudizhu_paixing.png",height:28},compId:9},{type:"Image",props:{y:108.5,x:80,skin:"img/jp_jb.png"},compId:10},{type:"Image",props:{y:142,x:80,width:25,skin:"img/zuanshi_01.png",height:24},compId:11},{type:"Label",props:{y:109,x:114,width:62,valign:"middle",text:"0",name:"coinNum",height:26,fontSize:18,font:"Helvetica",color:"#deb925",bold:!0,align:"center"},compId:12},{type:"Label",props:{y:140,x:114,width:62,valign:"middle",text:"0",name:"diamondNum",height:26,fontSize:18,font:"Helvetica",color:"#deb925",bold:!0,align:"center"},compId:13},{type:"Box",props:{y:97,x:201,width:189,name:"cannon",height:81},compId:14,child:[{type:"Image",props:{y:27,x:0,width:188,skin:"img/dz1.png",name:"paotai",height:54},compId:15},{type:"Button",props:{y:54,x:137,width:29,skin:"img/button_arrow.png",name:"btn_next",height:22},compId:17},{type:"Button",props:{y:76,x:50,width:29,skin:"img/button_arrow.png",rotation:180,name:"btn_pre",height:22},compId:18}]}]},{type:"Button",props:{y:9,x:11,width:50,stateNum:2,skin:"img/merge_Image_paizhuonei_fanhui.png",height:50},compId:16}],loadList:["img/BG01.png","img/Image_doudizhu_touxiangdikuang.png","img/Image_doudizhu_touxiangkuang.png","img/icon_default.png","img/Image_doudizhu_paixing.png","img/jp_jb.png","img/zuanshi_01.png","img/dz1.png","img/button_arrow.png","img/merge_Image_paizhuonei_fanhui.png"],loadList3D:[]},GameViewUI}(a);t.GameViewUI=e,s("ui.GameViewUI",e);var i=function(t){function LoadingViewUI(){return t.call(this)||this}return __extends(LoadingViewUI,t),LoadingViewUI.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.createView(LoadingViewUI.uiView)},LoadingViewUI.uiView={type:"View",props:{width:1280,height:700},compId:2,child:[{type:"Image",props:{y:0,x:0,skin:"load/lading_bg1.png"},compId:4},{type:"Button",props:{y:523,x:494,width:291,visible:!0,stateNum:3,skin:"load/button_star.png",name:"start",height:134},compId:3},{type:"Image",props:{y:412,x:427.5,skin:"load/linebg.png"},compId:7},{type:"Image",props:{y:439,x:454,width:32,skin:"load/bars.png",name:"dot",height:47},compId:8}],loadList:["load/lading_bg1.png","load/button_star.png","load/linebg.png","load/bars.png"],loadList3D:[]},LoadingViewUI}(a);t.LoadingViewUI=i,s("ui.LoadingViewUI",i)}(i.ui||(i.ui={}))},{}],19:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=laya.display.Sprite,s=laya.ui.Image,n=laya.ui.Label,o=t("./TipsData"),l=function(t){function CustomTips(){var e=t.call(this)||this;return e.opeDelSelf=!1,e.exitTime=40,e.currTime=0,e.tempW=1,e}return __extends(CustomTips,t),CustomTips.getInstance=function(){return null==this.instance&&(this.instance=new CustomTips),this.instance},CustomTips.prototype.AddTip=function(t,e,i,a,s,n,o,l,h,r,u,d,p){void 0===e&&(e="333434"),void 0===i&&(i="right"),void 0===a&&(a=!0),void 0===s&&(s=150),void 0===n&&(n=100),void 0===o&&(o=300),void 0===l&&(l=!1),void 0===h&&(h=40),void 0===r&&(r=0),void 0===u&&(u=!0),void 0===d&&(d=24),void 0===p&&(p="方正卡通简体"),this.exitTime=h,t.contains(this)||t.addChild(this),this.firstTip?this.secondTip||(this.an_out(this.firstTip,o),this.secondTip=this.CreateLogoTip(e,i,r,u,d,p),this.add(this,this.secondTip),this.an_in_1(this.secondTip,o),this.secondTip.x=this.firstTip.x):(this.firstTip=this.CreateLogoTip(e,i,r,u,d,p),this.an_in(this.firstTip,o),this.add(this,this.firstTip),-1==this.tempW&&(this.tempW=this.firstTip.width)),a?this.centers(t,s):this.pos(n,s),this.currTime=0,this.opeDelSelf||l||(this.opeDelSelf=!0,Laya.timer.loop(20,this,this.loopHand))},CustomTips.prototype.disposSelf=function(){this.tempW=-1,this.currTime=0,this.removeSelf(),Laya.timer.clearAll(this)},CustomTips.prototype.centers=function(t,e){this.pos(t.width/2,e)},CustomTips.prototype.loopHand=function(){this.currTime++,this.currTime>=this.exitTime&&this.del()},CustomTips.prototype.del=function(){this.opeDelSelf=!1,Laya.timer.clearAll(this),this.an_dl(this.firstTip),this.currTime=0},CustomTips.prototype.disposeSelf=function(){this.del()},CustomTips.prototype.an_out=function(t,e){void 0===e&&(e=400),t.alpha=1;var i=new laya.utils.TimeLine;i.addLabel("aa",0).to(t,{y:-t.height/2},e,laya.utils.Ease.cubicOut).addLabel("bb",0).to(t,{alpha:0},e,laya.utils.Ease.cubicOut),i.play(0),i.on(Laya.Event.COMPLETE,this,function(){i.destroy(),t.removeSelf(),t=null})},CustomTips.prototype.an_dl=function(t,e){void 0===e&&(e=400),t&&laya.utils.Tween.to(t,{alpha:0},e,laya.utils.Ease.cubicOut,new laya.utils.Handler(this,function(){t.removeSelf(),t===this.firstTip&&(t=null,this.firstTip=null),null==this.firstTip&&null==this.secondTip&&this.disposSelf()}))},CustomTips.prototype.an_in=function(t,e){void 0===e&&(e=400),t.alpha=0,laya.utils.Tween.to(t,{alpha:1},e,laya.utils.Ease.cubicIn)},CustomTips.prototype.an_in_1=function(t,e){void 0===e&&(e=400),t.scaleY=0;var i=this;laya.utils.Tween.to(t,{scaleY:1},e,laya.utils.Ease.cubicIn,new laya.utils.Handler(this,function(){i.firstTip=i.secondTip,i.secondTip=null}))},CustomTips.prototype.add=function(t,e){e&&!t.contains(e)&&(t.addChild(e),e.pos(e.width/2,e.height/2))},CustomTips.prototype.CreateLogoTip=function(t,e,i,l,h,r){void 0===e&&(e="right"),void 0===i&&(i=0),void 0===l&&(l=!1),void 0===h&&(h=22),void 0===r&&(r="微软雅黑");var u=new a,d=new a,p=new s,f=new s;f.sizeGrid="33,26,28,30";var c=new n;return c.text=t,c.font=r,c.fontSize=h,c.height=50,"right"==e?(p.skin=o.TipsData.getInstance().logoRightArr[i],f.skin=o.TipsData.getInstance().tipRightArr[i],c.color=o.TipsData.getInstance().rightColorArr[i]):"wrong"==e?(p.skin=o.TipsData.getInstance().logoWrongArr[i],f.skin=o.TipsData.getInstance().tipWrongArr[i],c.color=o.TipsData.getInstance().wrongColorArr[i]):"warn"==e&&(p.skin=o.TipsData.getInstance().logoWarnArr[i],f.skin=o.TipsData.getInstance().tipWarnArr[i],c.color=o.TipsData.getInstance().warnColorArr[i]),f.size(c.width+200,50),d.width=f.width,c.pos((f.width-c.textField.textWidth)/2,(f.height-c.textField.textHeight)/2),u.addChild(d),d.addChild(f),d.addChild(c),d.pos(p.width-1,0),u.addChild(p),u.size(p.width+f.width,p.height),u.pivot(u.width,u.height),u},CustomTips}(Laya.Sprite);i.CustomTips=l},{"./TipsData":20}],20:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function TipsData(){this.logoRightArr=["fish/tip/right.png","fish/tip/face_right.png","fish/tip/face2_right.png","fish/tip/fish3_3.png"],this.logoWrongArr=["fish/tip/wrong.png","fish/tip/face_wrong.png","fish/tip/face2_wrong.png","fish/tip/fish3_2.png"],this.logoWarnArr=["fish/tip/warn.png","fish/tip/face_warn.png","fish/tip/face2_warn.png","fish/tip/fish3_1.png"],this.tipRightArr=["fish/tip/right_bg.png","fish/tip/right_bg.png","fish/tip/bg3.png","fish/tip/bg4.png"],this.tipWrongArr=["fish/tip/wrong_bg.png","fish/tip/wrong_bg.png","fish/tip/bg3.png","fish/tip/bg4.png"],this.tipWarnArr=["fish/tip/warn_bg.png","fish/tip/warn_bg.png","fish/tip/bg3.png","fish/tip/bg4.png"],this.rightColorArr=["#006666","#006666","#ffffff","#ffffff"],this.wrongColorArr=["#cc0000","#cc0000","#ffffff","#ffffff"],this.warnColorArr=["#CC6600","#CC6600","#ffffff","#ffffff"]}return TipsData.getInstance=function(){return null==this.instance&&(this.instance=new TipsData),this.instance},TipsData}();i.TipsData=a},{}],21:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=t("../ui/layaMaxUI"),s=t("../element/cannon/CannonFather"),n=t("../element/cannon/CannonManager"),o=t("../Global"),l=t("../data/DataProxy"),h=t("../util/tips/CustomTips"),r=t("../element/bullet/BulletFather"),u=t("../element/bullet/BulletManager"),d=t("../element/fish/FishManager"),p=t("../element/fish/FishFather"),f=laya.maths.Point,c=laya.utils.TimeLine,g=laya.media.SoundManager,y=t("../element/coin/CoinManager"),_=t("../element/tools/Tools"),m=t("../element/tools/ToolsManager"),b=function(t){function GameView(){var e=t.call(this)||this;return e._cannonType=0,e.bulletArr=[],e.deadBullet=[],e.fishArr=[],e.coinNum=e.getChildByName("player1").getChildByName("coinNum"),e.btn_pre=e.getChildByName("player1").getChildByName("cannon").getChildByName("btn_pre"),e.btn_next=e.getChildByName("player1").getChildByName("cannon").getChildByName("btn_next"),e.initData(),e.initView(),e.initEvent(),e}return __extends(GameView,t),GameView.getInstance=function(){if(null==this.instance)return this.instance=new GameView,this.instance},GameView.prototype.initData=function(){n.CannonManager.getInstance().cacheAnimation(),u.BulletManager.getInstance().cacheAnimation(),d.FishManager.getInstance().cacheAnimation(),y.CoinManager.getInstance().cacheAnimation(),m.ToolsManager.getInstance().cacheAnimation()},GameView.prototype.initView=function(){this.cannon=n.CannonManager.getInstance().createCannon(this,295,694),this.cannonType=5,this.coinNum.text=1e3,o.Global.getInstance().lvlnum=1,this.createFish(o.Global.getInstance().totalFishNum)},Object.defineProperty(GameView.prototype,"cannonType",{get:function(){return this._cannonType},set:function(t){this._cannonType=t,this._cannonType=Math.min(Math.max(this._cannonType,s.CannonFather.getInstance().MIN_TYPE),s.CannonFather.getInstance().MAX_TYPE),this.cannon.type=this._cannonType},enumerable:!0,configurable:!0}),GameView.prototype.initEvent=function(){this.on(Laya.Event.MOUSE_DOWN,this,this.DownHand),this.btn_pre.on(Laya.Event.MOUSE_DOWN,this,this.powBtnHand),this.btn_next.on(Laya.Event.MOUSE_DOWN,this,this.powBtnHand),Laya.timer.frameLoop(1,this,this.loopHand)},GameView.prototype.loopHand=function(){this.checkHitFish2(),this.checkHitTools()},GameView.prototype.checkHitFish2=function(){var t,e,i,a=0,s=0;for(a=0;a<this.bulletArr.length;a++)if((t=this.bulletArr[a])&&t.parent)for(s=0;s<this.fishArr.length;s++)(e=this.fishArr[s])&&e.parent&&(i=e.getHitRectangle(),t.isHitFish||t.deaded||e.dead||this.checkOver(i,t)&&(t.isHitFish=!0,e.hp-=this.getBulletHard(t)*Math.random()*5))},GameView.prototype.checkHitTools=function(){var t,e,i,a=0,s=0;for(a=0;a<this.bulletArr.length;a++)if((t=this.bulletArr[a])&&t.parent)for(s=0;s<m.ToolsManager.getInstance().toolArr.length;s++)(e=m.ToolsManager.getInstance().toolArr[s])&&e.parent&&(i=e.getHitRectangle(),t.isHitTool||t.deaded||e.deaded||this.checkOver(i,t)&&(t.isHitTool=!0,e.disposeS()))},GameView.prototype.checkOver=function(t,e){var i=e.getCenter(),a=e.hitRadius,s=new f(t.x+10,t.y+10),n=new f(t.x+10+t.width-20,t.y+10),o=new f(t.x+10,t.y+10+t.height-20),l=new f(t.x+10+t.width-20,t.y+10+t.height-20),h=this.getNode(s,n,i,a),r=this.getNode(s,o,i,a),u=this.getNode(n,l,i,a),d=this.getNode(o,l,i,a).concat(u).concat(r).concat(h);return this.isOver(t,d)},GameView.prototype.getNode=function(t,e,i,a){var s,n,o,l,h=new f(0,0),r=new f(0,0);if(e.x-t.x==0)s=t.x,n=t.x,o=Math.pow(a*a-Math.pow(t.x-i.x,2),.5)+i.y,l=-Math.pow(a*a-Math.pow(t.x-i.x,2),.5)+i.y;else{var u=(e.y-t.y)/(e.x-t.x),d=t.y-(e.y-t.y)/(e.x-t.x)*t.x,p=d-i.y,c=-2*p*u*i.x-u*u*i.x*i.x+u*u*a*a-p*p+a*a;o=u*(s=(i.x-p*u-Math.pow(c,.5))/(u*u+1))+d,n=(i.x-p*u+Math.pow(c,.5))/(u*u+1),l=u*s+d}return h.setTo(s,o),r.setTo(n,l),[h,r]},GameView.prototype.isOver=function(t,e){for(var i=0;i<e.length;i++){var a=e[i];if(t.contains(a.x,a.y))return!0}return!1},GameView.prototype.powBtnHand=function(t){t.currentTarget==this.btn_pre?this.cannonType--:this.cannonType++,laya.media.SoundManager.playSound("res/sound/ChangeGun.wav")},GameView.prototype.DownHand=function(t){if(!o.Global.getInstance().ISPAUSE&&this.mouseY<=o.Global.getInstance().totalHeight-o.Global.getInstance().bottomSpace){if(!this.checkCanShoot(l.DataProxy.getInstance().getDataByType(this.cannon.type)))return;var e=laya.utils.Browser.now();if(e>this.cannon.shootTime*o.Global.getInstance().shootInterTime){var i=this.mouseY-this.cannon.y,a=this.mouseX-this.cannon.x;this.cannon.rotateAn(180*Math.atan2(i,a)/Math.PI+90),this.cannon.shootTime=e+this.cannon.shootInterval,this.cannon.shootAn();var s=u.BulletManager.getInstance().createBulletByType(this.cannon.type),n=this.cannon.rotation-90;s.pos(this.cannon.x+Math.cos(n*Math.PI/180)*this.cannon.selfHeight,this.cannon.y+Math.sin(n*Math.PI/180)*this.cannon.selfHeight),s.rotation=this.cannon.rotation,this.addChild(s),s.init(),this.coinNum.text=Number(this.coinNum.text)-s.dataVo.power,s.once(r.BulletFather.getInstance().BOOM_COM,this,this.bulletBoom),this.bulletArr.push(s)}}},GameView.prototype.bulletBoom=function(t){var e=this.bulletArr.indexOf(t);this.bulletArr.splice(e,1),t.removeSelf(),t.deaded=!0,u.BulletManager.getInstance().recoverBullerByType(t)},GameView.prototype.getBulletHard=function(t){var e=t.dataVo.power*o.Global.getInstance().shootPower,i=1;return Math.random()>.9&&(i=2+Math.floor(4*Math.random())),e*i},GameView.prototype.checkCanShoot=function(t){return!(this.coinNum.text-t.power<0)||(h.CustomTips.getInstance().AddTip(this,"能量不足!!","right",!0,100,100,300,!1,60,3),laya.media.SoundManager.playSound("res/sound/crit.mp3"),!1)},GameView.prototype.createFish=function(t){for(var e,i,a=0,s=0;s<t;s++)(i=Math.random())>0&&i<=.92?a=Math.floor(6*Math.random()):!this.hasFish(10)&&!this.hasFish(11)&&i>.92&&i<=.94?a=Math.random()>.5?10:11:!this.hasFish(6)&&!this.hasFish(7)&&i>.94&&i<=.96?a=Math.random()>.5?6:7:!this.hasFish(9)&&i>.96&&i<=.98?a=9:i>.98&&!this.hasFish(8)&&(a=8),9==a?h.CustomTips.getInstance().AddTip(this,"海底出现鲨鱼，击败它可以获得大量能量哦！！","warn",!0,100,100,300,!1,100,3):8==a?h.CustomTips.getInstance().AddTip(this,"海豚出现啦！击败它掉落鱼雷哦！鱼雷只存在10秒钟！","right",!0,100,100,300,!1,100,3):6==a?h.CustomTips.getInstance().AddTip(this,"鳄鱼来了！击败它掉落能量宝箱哦！宝箱只存在10秒钟！","warn",!0,100,100,300,!1,100,3):7==a?h.CustomTips.getInstance().AddTip(this,"海龟出现！击败它掉落武器增强道具！","warn",!0,100,100,300,!1,100,3):11==a&&h.CustomTips.getInstance().AddTip(this,"灯笼鱼出现！击败它掉落鱼饵，鱼饵可以吸引来鱼群哦！","warn",!0,100,100,300,!1,100,3),e=d.FishManager.getInstance().createFishById(a),this.addChild(e),e.init(Math.random()>.5?"right":"left"),e.once(p.FishFather.getInstance().FISH_DEAD,this,this.fishDead),this.fishArr.push(e)},GameView.prototype.hasFish=function(t){for(var e=0;e<this.fishArr.length;e++)if(this.fishArr[e].fishVo.id==t)return!0;return!1},GameView.prototype.createFishOrder=function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i="left");var a,s,n,l=[],h=0,r=0;switch(t){case 0:l=d.FishManager.getInstance().heartPathDot(),h="right"==i?-600:o.Global.getInstance().totalWidth+600,r=400;break;case 1:l=d.FishManager.getInstance().rectPathDot(),h="right"==i?-600:o.Global.getInstance().totalWidth+600,r=250;break;case 2:l=d.FishManager.getInstance().rhombPathDot(),h="right"==i?-600:o.Global.getInstance().totalWidth+600,r=100;break;case 3:l=d.FishManager.getInstance().circlePathDot(),h="right"==i?-400:o.Global.getInstance().totalWidth+400,r=350}var u=0;for(u=0;u<l.length;u++)s=l[u],n=new f(s.x+h,s.y+r),a=d.FishManager.getInstance().createFishById(e),this.addChild(a),a.init(i,n,!0),a.once(p.FishFather.getInstance().FISH_DEAD,this,this.fishDead),a.once(p.FishFather.getInstance().FISH_DEAD_SELF,this,this.fishDeadSelf),this.fishArr.push(a)},GameView.prototype.createOrder=function(t){void 0===t&&(t=6),laya.media.SoundManager.playSound("res/sound/mfish.mp3"),h.CustomTips.getInstance().AddTip(this,"鱼群来袭!,鱼群中的鱼有双倍奖励哦！","right",!0,100,100,300,!1,100,3);for(var e=Math.random()>.5?"right":"left",i=Math.floor(4*Math.random()),a=0;a<t;a++)(new laya.utils.Timer).once(3e3+3e3*a,this,function(){this.createFishOrder(Math.floor(4*Math.random()),i,e)})},GameView.prototype.fishDead=function(t){var e=this.fishArr.indexOf(t);this.fishArr.splice(e,1);var i=1;t.isInOrder?i=2:this.createFish(1),y.CoinManager.getInstance().createMoreCoin(t,this),this.coinNum.text=Number(this.coinNum.text)+t.fishVo.score*i,o.Global.getInstance().getPowerNum+=t.fishVo.score*i,8==t.fishVo.id?this.createTools(1,t.x,t.y):6==t.fishVo.id?this.createTools(2,t.x,t.y):7==t.fishVo.id?this.createTools(3,t.x,t.y):11==t.fishVo.id&&this.createTools(4,t.x,t.y)},GameView.prototype.createTools=function(t,e,i){var a=m.ToolsManager.getInstance().createToolByType(t);a.once(_.Tools.getInstance().DEAD_OVER,this,this.deadAnOver),a.pos(e,i),this.addChild(a)},GameView.prototype.deadAnOver=function(t){if(1==t.type){this.killAllFish();var e=new c;e.addLabel("right",0).to(this,{alpha:.1},80).addLabel("left",0).to(this,{alpha:1},80).addLabel("right2",0).to(this,{alpha:.1},80).addLabel("left2",0).to(this,{alpha:1},80).addLabel("right3",0).to(this,{alpha:.1},80).addLabel("left3",0).to(this,{alpha:1},80),e.play(0,!1),e.once(Laya.Event.COMPLETE,this,function(){e.destroy(),o.Global.getInstance().ISPAUSE=!1,this.alpha=1}),g.playSound("res/sound/boom.wav")}else 2==t.type?(o.Global.getInstance().ISPAUSE=!1,y.CoinManager.getInstance().addCoin(500,"coin",t.x,t.y,this),o.Global.getInstance().getPowerNum+=500,this.coinNum.text=Number(this.coinNum.text)+500):3==t.type?(o.Global.getInstance().ISPAUSE=!1,this.cannon.strongTime=20,h.CustomTips.getInstance().AddTip(this,"武器增强！！","warn",!0,100,100,300,!1,100,3),g.playSound("res/sound/bullet_power.mp3")):4==t.type&&(o.Global.getInstance().ISPAUSE=!1,this.createOrder())},GameView.prototype.killAllFish=function(){for(var t=0;t<this.fishArr.length;t++)this.fishArr[t].hp=0},GameView.prototype.fishDeadSelf=function(t){var e=this.fishArr.indexOf(t);this.fishArr.splice(e,1)},GameView}(a.ui.GameViewUI);i.GameView=b},{"../Global":2,"../data/DataProxy":5,"../element/bullet/BulletFather":8,"../element/bullet/BulletManager":9,"../element/cannon/CannonFather":10,"../element/cannon/CannonManager":11,"../element/coin/CoinManager":13,"../element/fish/FishFather":14,"../element/fish/FishManager":15,"../element/tools/Tools":16,"../element/tools/ToolsManager":17,"../ui/layaMaxUI":18,"../util/tips/CustomTips":19}],22:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=t("../ui/layaMaxUI"),s=laya.utils.Tween,n=laya.utils.Ease,o=function(t){function LoadingView(){var e=t.call(this)||this;return e.start=e.getChildByName("start"),e.dot=e.getChildByName("dot"),e.tw=360,e.init(),e}return __extends(LoadingView,t),LoadingView.getInstance=function(){return null==this.instance&&(this.instance=new LoadingView),this.instance},LoadingView.prototype.init=function(){this.start.visible=!1,this.start.once(Laya.Event.CLICK,this,this.startHand)},LoadingView.prototype.startHand=function(){s.to(this,{alpha:0},120,n.strongOut,Laya.Handler.create(this,function(){this.event("startgame")}))},LoadingView.prototype.setData=function(t){this.dot.width=t*this.tw,t>=1&&(this.start.visible=!0)},LoadingView}(a.ui.LoadingViewUI);i.LoadingView=o},{"../ui/layaMaxUI":18}]},{},[1]);